    </div>
    
    <!-- Post Modal -->
    <div class="post-modal" id="postModal">
        <div class="post-content">
            <button class="post-close" onclick="closePostModal()">&times;</button>
            
            <div class="post-header">
                <div class="post-user-avatar">üë§</div>
                <div class="post-user-info">
                    <h3>Jordan Smith</h3>
                    <p>What's happening?</p>
                </div>
            </div>
            
            <textarea 
                class="post-textarea" 
                placeholder="What's happening?"
                id="postTextarea"
                oninput="updatePostButton()">
            </textarea>
            
            <div class="post-actions">
                <div class="post-options">
                    <button class="post-option" onclick="addImage()" title="Add Image">
                        üì∑
                    </button>
                    <button class="post-option" onclick="addLink()" title="Add Link">
                        üîó
                    </button>
                    <button class="post-option" onclick="addEmoji()" title="Add Emoji">
                        üòä
                    </button>
                    <button class="post-option" onclick="addLocation()" title="Add Location">
                        üìç
                    </button>
                </div>
                
                <button class="post-submit" id="postSubmitBtn" onclick="submitPost()" disabled>
                    Post
                </button>
            </div>
        </div>
    </div>
    
    <!-- User Profile Modal --><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetroSocial - Layers Design</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 50%, #2d2d2d 100%);
            color: white;
            height: 100vh;
            overflow: hidden;
        }
        
        .header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo { font-size: 24px; font-weight: bold; }
        .status { 
            background: #06d6a0; 
            padding: 8px 16px; 
            border-radius: 20px; 
            font-size: 14px;
            color: #000;
        }
        
        .layers-container {
            position: relative;
            width: 100%;
            height: calc(100vh - 80px);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .proximity-layer {
            position: absolute;
            border-radius: 50%;
            border: 2px solid;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: layer-pulse 4s infinite;
            transition: all 0.5s ease;
        }
        
        @keyframes layer-pulse {
            0%, 100% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.02); opacity: 0.8; }
        }
        
        .layer-intimate {
            width: 180px;
            height: 180px;
            border-color: #ef4444;
            background: radial-gradient(circle, rgba(239, 68, 68, 0.2) 0%, rgba(239, 68, 68, 0.05) 70%, transparent 100%);
            z-index: 4;
        }
        
        .layer-personal {
            width: 280px;
            height: 280px;
            border-color: #f59e0b;
            background: radial-gradient(circle, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.03) 70%, transparent 100%);
            z-index: 3;
        }
        
        .layer-social {
            width: 380px;
            height: 380px;
            border-color: #06d6a0;
            background: radial-gradient(circle, rgba(6, 214, 160, 0.12) 0%, rgba(6, 214, 160, 0.02) 70%, transparent 100%);
            z-index: 2;
        }
        
        .layer-public {
            width: 480px;
            height: 480px;
            border-color: #3b82f6;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, rgba(59, 130, 246, 0.01) 70%, transparent 100%);
            z-index: 1;
        }
        
        .layer-label {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            font-weight: 600;
            padding: 4px 12px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid currentColor;
        }
        
        .intimate-label {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }
        
        .personal-label {
            color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
        }
        
        .social-label {
            color: #06d6a0;
            background: rgba(6, 214, 160, 0.1);
        }
        
        .public-label {
            color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }
        
        .center-point {
            position: absolute;
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #06d6a0, #3b82f6);
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 20px rgba(6, 214, 160, 0.5);
            z-index: 10;
            animation: center-glow 3s infinite;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .center-point:hover {
            transform: scale(1.2);
            box-shadow: 0 0 30px rgba(6, 214, 160, 0.8);
        }
        
        .my-name-label {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            font-weight: 700;
            color: #06d6a0;
            text-shadow: 
                0 1px 0 #000000,
                0 2px 0 #1a1a1a,
                0 3px 0 #2a2a2a,
                0 4px 0 #3a3a3a,
                0 5px 6px rgba(0,0,0,0.6),
                0 8px 12px rgba(0,0,0,0.4);
            white-space: nowrap;
            pointer-events: none;
            letter-spacing: 0.5px;
            z-index: 10;
        }
        
        .user-node {
            position: absolute;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 3px solid;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }
        
        .user-node:hover {
            transform: scale(1.2);
            z-index: 15;
        }
        
        .intimate-user {
            background: linear-gradient(45deg, #ef4444, #dc2626);
            border-color: #ef4444;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.8);
        }
        
        .personal-user {
            background: linear-gradient(45deg, #f59e0b, #d97706);
            border-color: #f59e0b;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.8);
        }
        
        .social-user {
            background: linear-gradient(45deg, #06d6a0, #059669);
            border-color: #06d6a0;
            box-shadow: 0 0 20px rgba(6, 214, 160, 0.8);
        }
        
        .public-user {
            background: linear-gradient(45deg, #3b82f6, #2563eb);
            border-color: #3b82f6;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.8);
        }
        
        @keyframes center-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(6, 214, 160, 0.5); }
            50% { box-shadow: 0 0 40px rgba(6, 214, 160, 0.8); }
        }
        
        .user-profile-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: linear-gradient(135deg, rgba(0,0,0,0.95) 0%, rgba(30,30,30,0.98) 100%);
            border-radius: 20px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            position: relative;
            animation: modal-slide-up 0.3s ease;
        }
        
        @keyframes modal-slide-up {
            0% { transform: translateY(50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #999;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .modal-close:hover {
            color: white;
        }
        
        .modal-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto 20px;
            border: 4px solid;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            position: relative;
        }
        
        .modal-name {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 8px;
        }
        
        .modal-distance {
            text-align: center;
            color: #999;
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        .modal-bio {
            background: rgba(255,255,255,0.08);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .modal-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }
        
        .modal-interests {
            margin-bottom: 25px;
        }
        
        .interests-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #ccc;
        }
        
        .interest-tag {
            display: inline-block;
            background: rgba(6, 214, 160, 0.2);
            color: #06d6a0;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            margin: 3px;
            border: 1px solid rgba(6, 214, 160, 0.3);
        }
        
        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .action-btn {
            background: linear-gradient(45deg, #06d6a0, #059669);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(6, 214, 160, 0.4);
        }
        
        .action-btn.secondary {
            background: linear-gradient(45deg, #374151, #4b5563);
        }
        
        .action-btn.secondary:hover {
            box-shadow: 0 5px 15px rgba(75, 85, 99, 0.4);
        }
        
        .proximity-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .badge-intimate {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        
        .badge-personal {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        
        .badge-social {
            background: rgba(6, 214, 160, 0.2);
            color: #06d6a0;
            border: 1px solid rgba(6, 214, 160, 0.3);
        }
        
        .badge-public {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .user-name-label {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 13px;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 
                0 1px 0 #000000,
                0 2px 0 #1a1a1a,
                0 3px 0 #2a2a2a,
                0 4px 0 #3a3a3a,
                0 5px 6px rgba(0,0,0,0.6),
                0 8px 12px rgba(0,0,0,0.4);
            white-space: nowrap;
            pointer-events: none;
            letter-spacing: 0.5px;
            z-index: 10;
        }
        
        .layer-counter {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.6);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            border: 1px solid;
        }
        
        .control-panel {
            position: absolute;
            bottom: 30px;
            left: 30px;
            background: rgba(0,0,0,0.6);
            border-radius: 15px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            z-index: 100;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .control-panel.minimized {
            width: 60px;
            height: 60px;
            padding: 0;
            border-radius: 50%;
            cursor: pointer;
            background: transparent;
            border: none;
            backdrop-filter: none;
            box-shadow: none;
        }
        
        .control-panel.expanded {
            padding: 20px;
            width: auto;
            height: auto;
        }
        
        .control-panel:hover:not(.minimized) {
            background: rgba(0,0,0,0.75);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 12px 48px rgba(0,0,0,0.5);
            z-index: 1001;
        }
        
        .panel-toggle-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #06d6a0, #059669);
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(6, 214, 160, 0.3);
        }
        
        .panel-toggle-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(6, 214, 160, 0.5);
        }
        
        .control-panel.minimized .panel-content {
            opacity: 0;
            visibility: hidden;
            height: 0;
            overflow: hidden;
        }
        
        .control-panel.expanded .panel-content {
            opacity: 1;
            visibility: visible;
            height: auto;
        }
        
        .control-panel.minimized .panel-toggle-btn {
            margin: 0;
        }
        
        .control-panel.expanded .panel-toggle-btn {
            margin-bottom: 15px;
        }
        
        .layer-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 12px;
            border-radius: 8px;
            width: 100%;
        }
        
        .layer-toggle:hover {
            background: rgba(255,255,255,0.1);
            transform: translateX(5px);
        }
        
        .layer-toggle-left {
            display: flex;
            align-items: center;
        }
        
        .layer-toggle-right {
            font-size: 11px;
            opacity: 0.8;
            font-weight: 500;
        }
        
        .toggle-checkbox {
            width: 16px;
            height: 16px;
            border: 2px solid;
            border-radius: 3px;
            margin-right: 10px;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .toggle-checkbox.checked::after {
            content: '‚úì';
            position: absolute;
            top: -2px;
            left: 1px;
            font-size: 12px;
            color: currentColor;
        }
        
        .distance-indicator {
            position: absolute;
            top: 100px;
            right: 30px;
            background: rgba(0,0,0,0.4);
            padding: 15px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .distance-title {
            font-size: 12px;
            opacity: 0.8;
            margin-bottom: 10px;
        }
        
        .distance-item {
            display: flex;
            align-items: center;
            margin: 6px 0;
            font-size: 11px;
        }
        
        .post-button {
            position: absolute;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #3b82f6, #2563eb);
            border: 3px solid white;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 20;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
        }
        
        .post-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(59, 130, 246, 0.6);
        }
        
        .post-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .post-content {
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            position: relative;
            animation: post-modal-slide-up 0.3s ease;
        }
        
        @keyframes post-modal-slide-up {
            0% { transform: translateY(50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        
        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .post-user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #06d6a0, #3b82f6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 15px;
            color: white;
        }
        
        .post-user-info h3 {
            color: #111827;
            font-size: 16px;
            font-weight: 600;
            margin: 0;
        }
        
        .post-user-info p {
            color: #6b7280;
            font-size: 14px;
            margin: 2px 0 0 0;
        }
        
        .post-close {
            position: absolute;
            top: 20px;
            right: 25px;
            background: none;
            border: none;
            color: #6b7280;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .post-close:hover {
            color: #111827;
        }
        
        .post-textarea {
            width: 100%;
            min-height: 120px;
            border: none;
            outline: none;
            resize: vertical;
            font-size: 16px;
            color: #111827;
            font-family: inherit;
            margin-bottom: 20px;
            padding: 0;
        }
        
        .post-textarea::placeholder {
            color: #9ca3af;
            font-size: 18px;
        }
        
        .post-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-top: 15px;
            border-top: 1px solid #e5e7eb;
        }
        
        .post-options {
            display: flex;
            gap: 15px;
        }
        
        .post-option {
            background: none;
            border: none;
            color: #3b82f6;
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }
        
        .post-option:hover {
            background: rgba(59, 130, 246, 0.1);
            transform: scale(1.1);
        }
        
        .post-submit {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .post-submit:hover {
            background: #2563eb;
            transform: translateY(-1px);
        }
        
        .post-submit:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">MetroSocial</div>
        <div class="status">Online</div>
    </div>
    
    <div class="layers-container">
        <!-- Proximity Layers -->
        <div class="proximity-layer layer-public">
        </div>
        
        <div class="proximity-layer layer-social">
        </div>
        
        <div class="proximity-layer layer-personal">
        </div>
        
        <div class="proximity-layer layer-intimate">
        </div>
        
        <!-- Center Point (Current User) -->
        <div class="center-point" onclick="openUserModal('currentUser')">
            üë§
            <div class="my-name-label">You (Jordan Smith)</div>
        </div>
        
        <!-- User Nodes with Emoji Avatars and 3D Names -->
        <!-- Intimate Layer -->
        <div class="user-node intimate-user" style="top: 45%; left: 55%;" onclick="openUserModal('alex')">
            üë®‚Äçüíº
            <div class="user-name-label">Alex Thompson</div>
        </div>
        
        <!-- Personal Layer -->
        <div class="user-node personal-user" style="top: 35%; left: 45%;" onclick="openUserModal('sarah')">
            üë©‚Äçüé®
            <div class="user-name-label">Sarah Chen</div>
        </div>
        
        <div class="user-node personal-user" style="top: 60%; left: 60%;" onclick="openUserModal('mike')">
            üë®‚Äçüíª
            <div class="user-name-label">Mike Rodriguez</div>
        </div>
        
        <!-- Social Layer -->
        <div class="user-node social-user" style="top: 25%; left: 65%;" onclick="openUserModal('emma')">
            üë©‚Äç‚úàÔ∏è
            <div class="user-name-label">Emma Johnson</div>
        </div>
        
        <div class="user-node social-user" style="top: 70%; left: 35%;" onclick="openUserModal('josh')">
            üë®‚Äçüî¨
            <div class="user-name-label">Josh Kim</div>
        </div>
        
        <div class="user-node social-user" style="top: 30%; left: 30%;" onclick="openUserModal('lisa')">
            üßò‚Äç‚ôÄÔ∏è
            <div class="user-name-label">Lisa Wang</div>
        </div>
        
        <div class="user-node social-user" style="top: 65%; left: 70%;" onclick="openUserModal('david')">
            üë®‚Äçüç≥
            <div class="user-name-label">David Park</div>
        </div>
        
        <div class="user-node social-user" style="top: 40%; left: 25%;" onclick="openUserModal('maya')">
            üë©‚ÄçüèÉ
            <div class="user-name-label">Maya Patel</div>
        </div>
        
        <!-- Public Layer -->
        <div class="user-node public-user" style="top: 15%; left: 50%;" onclick="openUserModal('carlos')">
            üë®‚Äçüéì
            <div class="user-name-label">Carlos Silva</div>
        </div>
        
        <div class="user-node public-user" style="top: 80%; left: 50%;" onclick="openUserModal('nina')">
            üë©‚Äçüç≥
            <div class="user-name-label">Nina Kowalski</div>
        </div>
        
        <div class="user-node public-user" style="top: 50%; left: 15%;" onclick="openUserModal('tom')">
            üë®‚Äçüì∑
            <div class="user-name-label">Tom Anderson</div>
        </div>
        
        <!-- Post Button -->
        <div class="post-button" onclick="openPostModal()">
            ‚úèÔ∏è
        </div>
        <div class="control-panel minimized" id="controlPanel">
            <button class="panel-toggle-btn" onclick="toggleControlPanel()">
                <span id="toggleIcon">‚öôÔ∏è</span>
            </button>
            
            <div class="panel-content">
                <h3 style="margin-bottom: 20px; font-size: 16px; font-weight: 700;">Layer Controls</h3>
                
                <div class="layer-toggle" onclick="toggleLayer('intimate')">
                    <div class="layer-toggle-left">
                        <div class="toggle-checkbox checked" style="border-color: #ef4444; color: #ef4444;"></div>
                        <span style="color: #ef4444; font-weight: 600;">Intimate Zone</span>
                    </div>
                    <div class="layer-toggle-right" style="color: #ef4444;">0-10m</div>
                </div>
                
                <div class="layer-toggle" onclick="toggleLayer('personal')">
                    <div class="layer-toggle-left">
                        <div class="toggle-checkbox checked" style="border-color: #f59e0b; color: #f59e0b;"></div>
                        <span style="color: #f59e0b; font-weight: 600;">Personal Zone</span>
                    </div>
                    <div class="layer-toggle-right" style="color: #f59e0b;">10-50m</div>
                </div>
                
                <div class="layer-toggle" onclick="toggleLayer('social')">
                    <div class="layer-toggle-left">
                        <div class="toggle-checkbox checked" style="border-color: #06d6a0; color: #06d6a0;"></div>
                        <span style="color: #06d6a0; font-weight: 600;">Social Zone</span>
                    </div>
                    <div class="layer-toggle-right" style="color: #06d6a0;">50-200m</div>
                </div>
                
                <div class="layer-toggle" onclick="toggleLayer('public')">
                    <div class="layer-toggle-left">
                        <div class="toggle-checkbox checked" style="border-color: #3b82f6; color: #3b82f6;"></div>
                        <span style="color: #3b82f6; font-weight: 600;">Public Zone</span>
                    </div>
                    <div class="layer-toggle-right" style="color: #3b82f6;">200m+</div>
                </div>
            </div>
        </div>
        <!-- Control Panel -->
    <div class="user-profile-modal" id="userModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            
            <div class="modal-avatar" id="modalAvatar">
                <!-- Avatar content will be set by JavaScript -->
            </div>
            
            <h2 class="modal-name" id="modalName">User Name</h2>
            <div class="modal-distance" id="modalDistance">
                <span class="proximity-badge" id="modalProximityBadge">Social Zone</span>
                ‚Ä¢ <span id="modalDistanceText">120m away</span>
            </div>
            
            <div class="modal-bio" id="modalBio">
                User bio will appear here...
            </div>
            
            <div class="modal-status">
                <div style="width: 12px; height: 12px; border-radius: 50%; background: #10b981;"></div>
                <span id="modalStatusText">Online</span>
            </div>
            
            <div class="modal-interests">
                <div class="interests-title">Interests</div>
                <div id="modalInterests">
                    <!-- Interest tags will be populated here -->
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="action-btn" onclick="startChat()">üí¨ Start Chat</button>
                <button class="action-btn secondary" onclick="viewProfile()">üë§ View Profile</button>
            </div>
        </div>
    </div>
    
    <script>
        // User data
        const users = {
            alex: {
                name: "Alex Thompson",
                distance: "5m",
                zone: "intimate",
                status: "online",
                bio: "Coffee enthusiast and startup founder. Always up for discussing the latest tech trends over a good espresso.",
                interests: ["‚òï Coffee", "üíª Tech", "üöÄ Startups", "üì± Mobile Apps"]
            },
            sarah: {
                name: "Sarah Chen",
                distance: "25m",
                zone: "personal",
                status: "busy",
                bio: "UX Designer passionate about creating beautiful and functional digital experiences. Love books and weekend hiking.",
                interests: ["üé® Design", "üìö Books", "ü•æ Hiking", "üßò Mindfulness"]
            },
            mike: {
                name: "Mike Rodriguez",
                distance: "40m",
                zone: "personal",
                status: "online",
                bio: "Software engineer by day, musician by night. Currently working on an indie game in my spare time.",
                interests: ["üéµ Music", "üéÆ Gaming", "‚ö° Programming", "üé∏ Guitar"]
            },
            emma: {
                name: "Emma Johnson",
                distance: "120m",
                zone: "social",
                status: "away",
                bio: "Marketing professional who loves traveling and trying new cuisines. Always planning the next adventure!",
                interests: ["‚úàÔ∏è Travel", "üçú Food", "üì∏ Photography", "üèÉ‚Äç‚ôÄÔ∏è Running"]
            },
            josh: {
                name: "Josh Kim",
                distance: "80m",
                zone: "social",
                status: "online",
                bio: "Environmental scientist and outdoor enthusiast. Passionate about sustainability and clean energy solutions.",
                interests: ["üå± Environment", "üèîÔ∏è Outdoors", "‚ôªÔ∏è Sustainability", "üî¨ Science"]
            },
            lisa: {
                name: "Lisa Wang",
                distance: "150m",
                zone: "social",
                status: "online",
                bio: "Product manager and yoga instructor. Balancing the digital world with mindful living practices.",
                interests: ["üßò Yoga", "üìä Product", "üå∏ Wellness", "üçµ Tea"]
            },
            david: {
                name: "David Park",
                distance: "180m",
                zone: "social",
                status: "busy",
                bio: "Financial analyst and weekend chef. Love experimenting with fusion cuisines and craft cocktails.",
                interests: ["üç≥ Cooking", "üìà Finance", "üç∏ Cocktails", "üì∞ News"]
            },
            maya: {
                name: "Maya Patel",
                distance: "90m",
                zone: "social",
                status: "away",
                bio: "Graphic designer and fitness enthusiast. Currently training for my first marathon while building my design portfolio.",
                interests: ["üé® Design", "üèÉ‚Äç‚ôÄÔ∏è Fitness", "üèÉ Marathon", "üí™ Gym"]
            },
            carlos: {
                name: "Carlos Silva",
                distance: "250m",
                zone: "public",
                status: "online",
                bio: "Architecture student with a passion for sustainable urban design. Love sketching cityscapes and exploring neighborhoods.",
                interests: ["üèóÔ∏è Architecture", "üéì Student", "‚úèÔ∏è Sketching", "üèôÔ∏è Urban Design"]
            },
            nina: {
                name: "Nina Kowalski",
                distance: "300m",
                zone: "public",
                status: "online",
                bio: "Professional chef and food blogger. Always hunting for the perfect ingredients and sharing culinary adventures.",
                interests: ["üë©‚Äçüç≥ Cooking", "üìù Blogging", "üå∂Ô∏è Spices", "üç∑ Wine"]
            },
            tom: {
                name: "Tom Anderson",
                distance: "400m",
                zone: "public",
                status: "away",
                bio: "Sales director and amateur photographer. Love capturing street life and urban moments during business travels.",
                interests: ["üì∏ Photography", "üíº Business", "üåÜ Street Art", "‚úàÔ∏è Travel"]
            },
            currentUser: {
                name: "Jordan Smith",
                distance: "0m",
                zone: "center",
                status: "online",
                bio: "Product Designer and tech enthusiast. Love connecting with people and exploring new places. Always looking for interesting conversations and networking opportunities.",
                interests: ["üé® Design", "üíª Technology", "üåç Networking", "‚òï Coffee", "üì± Innovation", "üéØ Product Strategy"]
            }
        };
        
        // Open user profile modal
        function openUserModal(userId) {
            const user = users[userId];
            if (!user) return;
            
            // Get modal elements
            const modal = document.getElementById('userModal');
            const avatar = document.getElementById('modalAvatar');
            const name = document.getElementById('modalName');
            const distance = document.getElementById('modalDistanceText');
            const bio = document.getElementById('modalBio');
            const statusText = document.getElementById('modalStatusText');
            const interests = document.getElementById('modalInterests');
            const proximityBadge = document.getElementById('modalProximityBadge');
            
            // Set avatar with emoji
            avatar.textContent = getUserEmoji(userId);
            avatar.style.background = getZoneGradient(user.zone);
            avatar.style.borderColor = getZoneColor(user.zone);
            avatar.style.fontSize = '48px';
            
            // Set basic info
            name.textContent = user.name;
            distance.textContent = user.distance + ' away';
            bio.textContent = user.bio;
            statusText.textContent = getStatusText(user.status);
            
            // Set proximity badge
            proximityBadge.textContent = getZoneLabel(user.zone);
            proximityBadge.className = `proximity-badge badge-${user.zone}`;
            
            // Show modal
            modal.style.display = 'flex';
        }
        
        // Close modal
        function closeModal() {
            const modal = document.getElementById('userModal');
            modal.style.display = 'none';
        }
        
        // Toggle control panel
        function toggleControlPanel() {
            const panel = document.getElementById('controlPanel');
            const icon = document.getElementById('toggleIcon');
            
            if (panel.classList.contains('minimized')) {
                panel.classList.remove('minimized');
                panel.classList.add('expanded');
                icon.textContent = '‚úï';
            } else {
                panel.classList.remove('expanded');
                panel.classList.add('minimized');
                icon.textContent = '‚öôÔ∏è';
            }
        }
        
        // Toggle layer visibility
        function toggleLayer(layerName) {
            const checkbox = event.target.querySelector('.toggle-checkbox') || event.target.closest('.layer-toggle').querySelector('.toggle-checkbox');
            const layer = document.querySelector(`.layer-${layerName}`);
            const users = document.querySelectorAll(`.${layerName}-user`);
            
            checkbox.classList.toggle('checked');
            
            if (checkbox.classList.contains('checked')) {
                layer.style.opacity = '1';
                users.forEach(user => user.style.opacity = '1');
            } else {
                layer.style.opacity = '0.2';
                users.forEach(user => user.style.opacity = '0.2');
            }
        }
        
        // Helper functions
        function getZoneColor(zone) {
            const colors = {
                intimate: '#ef4444',
                personal: '#f59e0b',
                social: '#06d6a0',
                public: '#3b82f6'
            };
            return colors[zone] || '#06d6a0';
        }
        
        function getZoneGradient(zone) {
            const gradients = {
                intimate: 'linear-gradient(45deg, #ef4444, #dc2626)',
                personal: 'linear-gradient(45deg, #f59e0b, #d97706)',
                social: 'linear-gradient(45deg, #06d6a0, #059669)',
                public: 'linear-gradient(45deg, #3b82f6, #2563eb)'
            };
            return gradients[zone] || 'linear-gradient(45deg, #06d6a0, #059669)';
        }
        
        function getZoneLabel(zone) {
            const labels = {
                intimate: 'Intimate Zone',
                personal: 'Personal Zone',
                social: 'Social Zone',
                public: 'Public Zone'
            };
            return labels[zone] || 'Social Zone';
        }
        
        function getStatusText(status) {
            const texts = {
                online: 'Online',
                busy: 'Busy',
                away: 'Away'
            };
            return texts[status] || 'Online';
        }
        
        // Get user emoji
        function getUserEmoji(userId) {
            const emojiMap = {
                alex: 'üë®‚Äçüíº',
                sarah: 'üë©‚Äçüé®',
                mike: 'üë®‚Äçüíª',
                emma: 'üë©‚Äç‚úàÔ∏è',
                josh: 'üë®‚Äçüî¨',
                lisa: 'üßò‚Äç‚ôÄÔ∏è',
                david: 'üë®‚Äçüç≥',
                maya: 'üë©‚ÄçüèÉ',
                carlos: 'üë®‚Äçüéì',
                nina: 'üë©‚Äçüç≥',
                tom: 'üë®‚Äçüì∑',
                currentUser: 'üë§'
            };
            return emojiMap[userId] || 'üë§';
        }
        
        // Post modal functions
        function openPostModal() {
            const modal = document.getElementById('postModal');
            modal.style.display = 'flex';
            document.getElementById('postTextarea').focus();
        }
        
        function closePostModal() {
            const modal = document.getElementById('postModal');
            const textarea = document.getElementById('postTextarea');
            modal.style.display = 'none';
            textarea.value = '';
            updatePostButton();
        }
        
        function updatePostButton() {
            const textarea = document.getElementById('postTextarea');
            const submitBtn = document.getElementById('postSubmitBtn');
            
            if (textarea.value.trim().length > 0) {
                submitBtn.disabled = false;
            } else {
                submitBtn.disabled = true;
            }
        }
        
        function submitPost() {
            const textarea = document.getElementById('postTextarea');
            const content = textarea.value.trim();
            
            if (content) {
                alert(`Post submitted: "${content}"`);
                closePostModal();
            }
        }
        
        function addImage() {
            alert('Image picker would open here');
        }
        
        function addLink() {
            const url = prompt('Enter URL:');
            if (url) {
                const textarea = document.getElementById('postTextarea');
                textarea.value += ' ' + url;
                updatePostButton();
            }
        }
        
        function addEmoji() {
            const textarea = document.getElementById('postTextarea');
            textarea.value += ' üòä';
            updatePostButton();
        }
        
        function addLocation() {
            alert('Location picker would open here');
        }
        
        // Action functions for current user
        function editProfile() {
            alert('Opening profile editor...');
            closeModal();
        }
        
        function viewSettings() {
            alert('Opening settings...');
            closeModal();
        }
        
        // Action functions
        function startChat() {
            alert('Starting chat...');
            closeModal();
        }
        
        function viewProfile() {
            alert('Opening full profile...');
            closeModal();
        }
        
        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            const userModal = document.getElementById('userModal');
            const postModal = document.getElementById('postModal');
            
            if (e.target === userModal) {
                closeModal();
            }
            if (e.target === postModal) {
                closePostModal();
            }
        });
        
        // Close modals on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
                closePostModal();
            }
        });
    </script>
</body>
</html>
            